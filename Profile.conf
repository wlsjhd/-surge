[General]
# Internet 测试 URL
internet-test-url = http://www.apple.com/library/test/success.html
# 代理测速 URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# 自定义 GeoIP 数据库
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# 允许 Wi-Fi 访问 (仅 iOS，若允许远程访问将「false」改为「true」)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# 允许 Wi-Fi 访问 (仅 macOS，若允许远程访问将「127.0.0.1」改为「0.0.0.0」)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
# 允许个人热点访问
allow-hotspot-access = false
# 绕过代理
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, seed-sequoia.siri.apple.com, sequoia.siri.apple.com, sequoia.apple.com, passenger.t3go.cn, www.baidu.com, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, www.shanbay.com, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com
# 排除简单主机名
exclude-simple-hostnames = true
# DNS 服务器
dns-server = 119.29.29.29, 180.184.1.1, 223.5.5.5, system
# 从 /etc/hosts 读取 DNS 记录
read-etc-hosts = true
# 当遇到 REJECT 策略时返回错误页
show-error-page-for-reject = true
# Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com, *.prod.cloud.netflix.com, appboot.netflix.com, *-appboot.netflix.com
# DNS 劫持
hijack-dns = *:53
# VIF Excluded Routes
tun-excluded-routes = 239.255.255.250/32
# UDP 回退行为
# (并非所有代理服务器都支持 UDP 转发，当一个 UDP 会话尝试使用一个不支持 UDP 转发的代理服务器时，Surge 会默认回退至直连。可修改为阻止以避免潜在的隐私泄露隐患。)
udp-policy-not-supported-behaviour = REJECT
# 隐藏 VPN 图标
hide-vpn-icon = false
udp-priority = false
ipv6 = false
ipv6-vif = disabled
loglevel = warning

[Proxy Group]
# 白名单模式 PROXY，黑名单模式 DIRECT
Final = select, PROXY, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
# 节点选项
PROXY = select, Telegram专用, 小飞机机场, 云洞机场, include-all-proxies=1, no-alert=0, hidden=0
# 国际流媒体服务
Streaming!CN = select, PROXY, Telegram专用
# 中国流媒体服务 (面向海外版本)
StreamingCN = select, DIRECT
# 防御
Guard = select, REJECT, DIRECT
# 可用性自动测试
Telegram专用 = smart, include-all-proxies=0, policy-path=https://api.acaisbest.shop/api/v1/client/subscribe?token=293ae9921985ee010b1f9ae6925c8651, update-interval=0, policy-regex-filter=^(?!.*(3.0|0.2)).*(Hong), no-alert=0, hidden=1
小飞机机场 = url-test, policy-path=https://sub.store/download/%E5%B0%8F%E9%A3%9E%E6%9C%BA%E6%9C%BA%E5%9C%BA?target=Surge, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, interval=180, tolerance=1
云洞机场 = smart, policy-path=https://sub.store/download/%E4%BA%91%E6%B4%9E%E6%9C%BA%E5%9C%BA?target=Surge, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0,interval=180, tolerance=1

[Rule]
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram专用
RULE-SET,SYSTEM,DIRECT
# Custom
DEST-PORT,123,DIRECT

# Direct+
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct+.list,DIRECT,extended-matching

# Reject
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list,Guard,extended-matching
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Hijacking.list,Guard,extended-matching
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list,Guard,extended-matching

# Streaming!CN
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/!CN.list,Streaming!CN,extended-matching
# StreamingCN
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/CN.list,StreamingCN,extended-matching

# Proxy
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy.list,PROXY,extended-matching

# Direct
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct.list,DIRECT,extended-matching

# WeChat
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/WeChat.list,DIRECT

# Local Area Network
RULE-SET,LAN,DIRECT

# GeoIP China
GEOIP,CN,DIRECT

# Proxy+
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy+.list,PROXY

FINAL,Final,dns-failed

[Host]
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# > PlayStation
*.dl.playstation.net = server:119.29.29.29

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com header

[MITM]
skip-server-cert-verify = true
hostname = www.google.cn
ca-passphrase = 0FDD70AC
ca-p12 = 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
